#N canvas 85 82 572 420 10;
#X declare -lib mrpeach;
#X obj 117 29 import mrpeach;
#X obj 120 84 udpreceive 9001;
#X obj 121 122 unpackOSC;
#X obj 121 162 routeOSC /beat;
#X obj 211 196 print ERROR ROUTE DOES NOT EXIST;
#X obj 108 215 t f;
#N canvas 278 252 491 412 beat 1;
#N canvas 566 53 1280 699 adsr 1;
#X obj 99 -42 inlet;
#X obj 445 43 inlet;
#X text 78 -62 trigger;
#X obj 254 47 t b;
#X obj 176 156 f \$1;
#X obj 176 181 pack 0 \$2;
#X obj 502 43 inlet;
#X obj 448 173 del \$2;
#X obj 468 321 line~;
#X obj 472 196 f \$4;
#X obj 511 271 pack 0 \$3;
#X obj 564 43 inlet;
#X obj 626 43 inlet;
#X obj 699 42 inlet;
#X msg 115 62 stop;
#X obj 622 198 pack 0 \$5;
#X text 445 21 level;
#X obj 511 247 * \$1;
#X obj 468 346 outlet~;
#X text 112 270 and pack with;
#X text 113 290 attack time;
#X text 41 18 if zero;
#X text 42 35 release;
#X text 22 52 and cancel;
#X text 53 69 decay;
#X text 294 164 on attack \, set a;
#X text 288 197 recall sustain value;
#X text 325 270 pack with decay time;
#X text 615 224 on release ramp;
#X text 616 241 back to zero;
#X obj 472 221 * 0.01;
#X text 57 459 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 23 -106 ADSR ENVELOPE;
#X text 498 21 attack;
#X text 565 20 decay;
#X text 619 21 sustain;
#X text 696 21 release;
#X text 212 -37 attack;
#X obj 214 -16 moses;
#X obj 212 15 t b b;
#X msg 138 182 0;
#X text 30 165 optionally;
#X text 20 183 bash to zero;
#X text 35 138 ATTACK:;
#X text 59 369 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 505 521 Updated for Pd version 0.37;
#X text 265 -19 test for negative trigger;
#X text 263 5 if so \, zero;
#X text 264 21 the output;
#X text 288 57 in any case;
#X text 313 247 multiply by peak level;
#X text 290 178 delay for sustain;
#X text 286 220 convert from percent;
#X text 165 232 ... then;
#X text 113 251 recall peak level;
#X text 449 5 peak;
#X text 291 41 ... do this;
#X text 57 421 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 218 -107 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X obj 101 -4 trigger bang;
#X obj 153 44 sel bang;
#X obj 138 20 10;
#X connect 0 0 59 0;
#X connect 1 0 4 1;
#X connect 1 0 17 1;
#X connect 3 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 18 0;
#X connect 9 0 30 0;
#X connect 10 0 8 0;
#X connect 11 0 10 1;
#X connect 12 0 9 1;
#X connect 13 0 15 1;
#X connect 14 0 7 0;
#X connect 15 0 8 0;
#X connect 17 0 10 0;
#X connect 30 0 17 0;
#X connect 38 0 39 0;
#X connect 38 1 3 0;
#X connect 39 0 3 0;
#X connect 39 1 40 0;
#X connect 40 0 8 0;
#X connect 59 0 14 0;
#X connect 59 0 61 0;
#X connect 60 1 38 0;
#X connect 60 1 15 0;
#X connect 61 0 60 0;
#X coords 0 699 1 698 85 60 0;
#X restore 157 219 pd adsr;
#X obj 180 86 vsl 12 60 0 500 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 200 1;
#X obj 198 86 vsl 12 60 0 500 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 2300 1;
#X obj 216 86 vsl 12 60 0 100 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 600 1;
#X obj 234 86 vsl 12 60 0 500 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 3700 1;
#X obj 135 87 vsl 15 80 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 7900 1;
#X obj 47 78 inlet;
#X obj 272 165 noise~;
#X obj 163 260 *~;
#X obj 157 300 outlet~;
#X text 180 69 A;
#X text 198 69 D;
#X text 216 69 S;
#X text 236 69 R;
#X text 133 69 Vol;
#X obj 372 49 loadbang;
#X obj 354 92 0;
#X obj 296 196 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 4900 1;
#X obj 296 232 mtof;
#X obj 238 217 svf~;
#X obj 375 237 vsl 15 128 0 10 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 5100 1;
#X floatatom 262 312 5 0 0 0 - - -;
#X obj 427 162 0.82;
#X obj 419 134 56;
#X obj 315 52 100;
#X obj 371 127 250;
#X obj 316 126 10;
#X floatatom 108 212 5 0 0 0 - - -;
#X obj 401 98 0.7;
#X obj 77 141 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 8 1;
#X connect 1 0 0 2;
#X connect 2 0 0 3;
#X connect 3 0 0 4;
#X connect 4 0 0 5;
#X connect 5 0 0 1;
#X connect 5 0 27 0;
#X connect 6 0 29 0;
#X connect 7 0 19 0;
#X connect 8 0 9 0;
#X connect 15 0 16 0;
#X connect 15 0 22 0;
#X connect 15 0 23 0;
#X connect 15 0 24 0;
#X connect 15 0 25 0;
#X connect 15 0 26 0;
#X connect 15 0 28 0;
#X connect 16 0 1 0;
#X connect 17 0 18 0;
#X connect 17 0 21 0;
#X connect 18 0 19 1;
#X connect 19 0 8 0;
#X connect 20 0 19 2;
#X connect 20 0 21 0;
#X connect 22 0 20 0;
#X connect 23 0 17 0;
#X connect 24 0 2 0;
#X connect 25 0 4 0;
#X connect 26 0 3 0;
#X connect 28 0 5 0;
#X connect 29 0 0 0;
#X restore 118 269 pd beat;
#X obj 147 360 dac~;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 7 1;
